# 服务器地址
server_addr: 127.0.0.1
# 服务器端口
server_port: 5000
# 令牌
auth_token: tk123456
# 线程数量
worker_threads: -1

log:
  # ALL, TRACE, DEBUG, INFO, WARN, ERROR, OFF
  level: DEBUG
  file: ./logs/t2c.log
  # KB, MB, GB
  max_file_size: 1MB
  max_backup_index: 3

# ssl
ssl:
  server_port: 5001
  jks: t2c.jks
  storepass: t2cpass

# 隧道列表
tunnels:
  # tcp-http
  - type: tcp
    enable_ssl: true
    local_addr: 192.168.1.1
    local_port: 80
    remote_port: 10080

  # vnc
  - type: tcp
    enable_ssl: false
    local_addr: 192.168.1.33
    local_port: 5900
    remote_port: 15900

  # ssh
  - type: tcp
    enable_ssl: false
    local_addr: 127.0.0.1
    local_port: 22
    remote_port: 10022

  # http-vhost
  - type: http
    enable_ssl: false
    local_addr: 192.168.1.1
    local_port: 80
    vhost: t1.tunnel.lo
    proxy_set_headers:
      X-Real-IP: $remote_addr
    proxy_add_headers:
      X-User-Agent: Tunnel
    auth:
      enable: true
      realm: User
      username: admin
      password: admin

  # http-vhost
  - type: http
    enable_ssl: false
    local_addr: 111.230.198.37
    local_port: 10080
    host: t2.tunnel.lo
    proxy_set_headers:
      X-Real-IP: $remote_addr
    proxy_add_headers:
      X-User-Agent: Tunnel
    auth:
      enable: true
      realm: User
      username: admin
      password: admin

  # https-vhost
  - type: https
    enable_ssl: false
    local_addr: 192.168.1.1
    local_port: 80
    host: t1.tunnel.lo
    proxy_set_headers:
      X-Real-IP: $remote_addr # $remote_addr 将被替换成发起请求的客户端IP
    proxy_add_headers:
      X-User-Agent: Tunnel
    auth:
      enable: true
      realm: .
      username: admin
      password: admin

  # https-vhost
  - type: https
    enable_ssl: false
    local_addr: 192.168.1.1
    local_port: 10080
    host: t2.tunnel.lo
    proxy_set_headers:
      X-Real-IP: $remote_addr
    proxy_add_headers:
      X-User-Agent: Tunnel
    auth:
      enable: true
      realm: .
      username: admin
      password: admin