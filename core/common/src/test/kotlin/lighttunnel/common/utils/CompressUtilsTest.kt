package lighttunnel.common.utils

import org.junit.Test

class CompressUtilsTest {

    @Test
    fun `Test Zip`() {
        val data = HexStringUtils.hexStringToBytes(
            "485454502F312E3120323030204F4B0D0A446174653A204D6F6E2C203234204A616E20323032322031303A35353A303420474D540D0A582D436F6E74656E742D547970652D4F7074696F6E733A206E6F736E6966660D0A436F6E74656E742D547970653A20746578742F68746D6C3B636861727365743D7574662D380D0A457870697265733A20300D0A43616368652D436F6E74726F6C3A206E6F2D63616368652C6E6F2D73746F72652C6D7573742D726576616C69646174650D0A582D487564736F6E3A20312E3339350D0A582D4A656E6B696E733A20322E3232322E340D0A582D4A656E6B696E732D53657373696F6E3A2037633164363563360D0A582D487564736F6E2D434C492D506F72743A2035303030300D0A582D4A656E6B696E732D434C492D506F72743A2035303030300D0A582D4A656E6B696E732D434C49322D506F72743A2035303030300D0A582D4672616D652D4F7074696F6E733A2073616D656F726967696E0D0A436F6E74656E742D456E636F64696E673A20677A69700D0A582D496E7374616E63652D4964656E746974793A204D494942496A414E42676B71686B6947397730424151454641414F43415138414D49494243674B43415145416B46726D6F6834462F38534854704F456B4C46415977476D32367751704462614D4D62424335687750554E5A31387430676A5839726C494253464A66766D64692B765A5377706E30785551456F3238744D2F326C34737857344C483258652B674E554744634C705232493248336F666358444A6470795A4956384754484D52365845773736493765646E4D45345071324B474242414C4942554C6344637241673552774B7771446E6F6E775A2F71724C32734C4D3370796945536F4E712F624A574B334E6F506C62547757426748474561556B4B702F793275776F376C70772F6F794E484379415A70616D364D71464538334971356A747634415A67755556676D716F45774B48364B4741347837385837374E4168634F685747486744526842306A5775776F57426B2B532F5649496A6143706558696246344D5447484B5745344E7251673264673672465A6B376A4B7A6E684E4B774944415141420D0A436F6E74656E742D4C656E6774683A203937380D0A5365727665723A204A6574747928392E342E32372E763230323030323237290D0A0D0A1F8B08000000000000FFB5554F6FE34414BFEFA718468AB695701CA76DDA421C69DBCD4ABB0A1BD45D841042D164FC124F32F65833E3B8295A697B412B0488031C38AC8490903820C1090E80F6CBD0961B5F81673B4E9336EC05115913BF796F7EBFF76F9EEF10FCDD592CE5D37EE37EFFF8E907EF76496823D969E72B912C1EFBF42C748E1F53DC0216100DE6BD939E4F5D639915DCDDE75ED0DAE32D4A026699A395B2A9963EAD64308578CBBCD3B6C24AE85C7DF3DBC51F5F930F1F413C15B1F9A8ED96FBED082C23318BC0A727FDA3FED3279470155B88AD4F1FF71FF47BBDFEFB74CD6C26204B94B62B8699086CE80730131C9C427893885858C1A4633893E07B8821453CC5C0D04D63E7124C088020A186D16DC75D6E8C6B449448701236863ACA94D879820E5838B5B9FEBF42DA10A2FF03D819291D997F0176F3F276DA4315CC3BED40CC0897CC18A4B93E4F895698321A3111D335A348050CDB458D970A11F8B4901FC656ABFB3062A9B4EB8750AD7262DCC2E6F23A973F7EF7D7AB2F2E5F7E7FF1E267B2E887BF7F3F47CFBCCA2A0F8060C94385F08932187A59FB929A306E858A7D3A19300E633130C0532DEC7CC043E0D375FA1CEB4465B829E224B584A55671A535706C1C351A55D093416A40E7EFB4886A554E24F2844A06A07D7AF5D50F972F7EBDF8F2F3D5ECD28A2E463A266949C31261991467503255E1BDC6BBCA9704B599D2C10DEE8B9F3EB9FAF6BC22BE365A27AF785621475A45D5B9500401601A674CA628BAF98D722D183B98CC8D53EBB66A87ADDA51A3D6DDAF1D746BF71ED4BA7BB57BCDDAC18E3B51C3A5E120866C90F2E97C906177CAC1A22BD7B36FD261242CD91CE6934259796516D2C2AB7262D0752067985AAB62926811313D5F466AB816895DEDF6099BB17297768A11B8FE0B144F239C1DF531D8AE84FCF568FE30D8BA7B5DF6BBDBF5115A99ADEDB73700CC982645B71DA9D36329F894F86494C645636EC10CF1B6C9C71BCEBD865AE37B34043D28B8790EBA99FBD9ADBDB65BC6BA96FBE3DCBDA13A25D58B134120D2281F2F6C08F2A69D93699624A097552AD3C917EAF25AAC3859DD9CD5AD8D0E38220E046756E5D0663626A7918C511F5A9BBCE5BA5996D5B39DBAD263B7D968345CB4C05107621CE20D6DEE5DB7C06CEC089CF965DE2929AAC386F9A81A3169D09FBC91B11E3E6D900669EEE24349F96DC8713AED84D9906010EF1C12AF55F7F67BBBF5831DE235A5E3D5779B0417AF87AA43D2F4C87EB1E915CB59DE68F961FC432F36DCE365A8C530E8FCF9EAE5E567E7650B5F7DFACBE5F3F3C511B7C87C05E0E6F7E2C63C50B6A8C0C260752D67B65B7CB8FF01FD8687F1DB070000"
        )
        System.err.println("data size: ${data.size}")
        System.err.println("data: ${HexStringUtils.bytesToHexString(data)}")
        val zipData = CompressUtils.compress(data)
        System.err.println("zipData size: ${zipData.size}")
        System.err.println("zipData: ${HexStringUtils.bytesToHexString(zipData)}")
        val uzipData = CompressUtils.decompress(zipData)
        System.err.println("uzipData size: ${uzipData.size}")
        System.err.println("uzipData: ${HexStringUtils.bytesToHexString(uzipData)}")
    }

}
