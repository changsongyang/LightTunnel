apply plugin: 'org.jetbrains.kotlin.jvm'

group = rootProject.group
version = rootProject.version

sourceCompatibility = rootProject.jvm_version

dependencies {
    compile project(":tunnel2-common")
    compile project(":tunnel2-t2cli")
    compile project(":tunnel2-server")
    // 单元测试
    testCompile "junit:junit:4.12"
}

compileKotlin {
    kotlinOptions {
        freeCompilerArgs = ['-Xjsr305=strict']
        jvmTarget = rootProject.jvm_version
    }
}

compileTestKotlin {
    kotlinOptions {
        freeCompilerArgs = ['-Xjsr305=strict']
        jvmTarget = rootProject.jvm_version
    }
}

project.ext.MainClass = "T2sBootstrap"
project.ext.OutJarName = "t2s.jar"

apply from: "../gradle/BuildJar.gradle"